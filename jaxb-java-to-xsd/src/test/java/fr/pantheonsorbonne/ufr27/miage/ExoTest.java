package fr.pantheonsorbonne.ufr27.miage;

import static org.junit.Assert.assertTrue;

import java.io.File;
import java.io.StringWriter;

import javax.xml.bind.JAXBContext;
import javax.xml.bind.JAXBException;
import javax.xml.bind.Marshaller;
import javax.xml.bind.Unmarshaller;

import org.junit.Test;

public class ExoTest {

	@Test
	public void exo1() throws JAXBException {
		JAXBContext context = JAXBContext.newInstance(Panier.class);
		Unmarshaller unMarshaller = context.createUnmarshaller();

		Panier p = (Panier) unMarshaller.unmarshal(new File("src/test/resources/panier.xml"));
		assertTrue(p.total == 36.0);
		assertTrue(p.client.getFname().equals("Nicolas"));
		System.out.println(p.getArticles().get(0).getDenomination());
		assertTrue(p.getArticles().get(0).getDenomination().equals("Souris"));
	}

}
